{"version":3,"sources":["components/Button/Button.jsx","components/Home/Home.jsx","data_fetchers/QuizFetcher.js","models/Quiz.js","components/Quiz/Quiz.jsx","App.jsx","index.js"],"names":["Button","props","onClickHandler","className","onClick","children","Home","history","push","QuizFetcher","axios","get","response","data","Quiz","question","correctAnswer","incorrectAnswers","this","_question","_correctAnswer","_incorrectAnswers","_","shuffle","answer","fetch","quizDataList","results","map","result","he","decode","correct_answer","incorrect_answers","str","quizData","state","quizzes","currentIndex","numberOfCorrects","restart","setState","QuizModel","fetchAndCreateQuizzes","quiz","judgeCorrectAnswer","alert","length","renderLoading","reunderQuiz","renderResult","to","answers","shuffleAnswers","index","key","selectAnswer","id","React","Component","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"mRAuBeA,G,MApBA,SAACC,GAAW,IACnBC,EAAmBD,EAAnBC,eASN,MAJ8B,oBAAnBA,IACTA,EAAiB,cAIjB,yBACEC,UAAU,SACVC,QAASF,GAEND,EAAMI,YCAAC,EAfF,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACb,OACE,6BACE,kDACA,kBAAC,EAAD,CACEL,eAAgB,WACdK,EAAQC,KAAK,WAFjB,4D,0HCISC,E,qOALYC,IAAMC,IAJjB,uD,cAINC,E,yBACCA,EAASC,M,wGCuCLC,E,WAzCb,cAA4D,IAA9CC,EAA6C,EAA7CA,SAAUC,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,iBAAoB,oBACzDC,KAAKC,UAAYJ,EACjBG,KAAKE,eAAiBJ,EACtBE,KAAKG,kBAAL,YAA6BJ,G,6DAY7B,OAAOK,IAAEC,QAAF,CACLL,KAAKE,gBADA,mBAEFF,KAAKG,uB,yCAIOG,GACjB,OAAOA,IAAWN,KAAKE,iB,+BAfvB,OAAOF,KAAKC,Y,oCAIZ,OAAOD,KAAKE,kB,+KAeeX,EAAYgB,Q,cAAjCC,E,yBAECA,EAAaC,QAAQC,KAAI,SAAAC,GAC9B,MAAO,CACLd,SAAUe,IAAGC,OAAOF,EAAOd,UAC3BC,cAAec,IAAGC,OAAOF,EAAOG,gBAChCf,iBAAkBY,EAAOI,kBAAkBL,KAAI,SAAAM,GAAG,OAAIJ,IAAGC,OAAOG,UAGnEN,KAAI,SAAAO,GACH,OAAO,IAAIrB,EAAKqB,O,wGCyFPrB,G,kBA3Hb,WAAYb,GAAQ,IAAD,8BACjB,4CAAMA,KACDmC,MAAQ,CACXC,QAAS,GACTC,aAAe,EACfC,iBAAmB,GALJ,E,2MAUXrB,KAAKsB,U,6PAIXtB,KAAKuB,SAAS,CACZJ,QAAS,GACTC,aAAe,EACfC,iBAAmB,I,SAGCG,EAAUC,wB,OAA1BN,E,OAENnB,KAAKuB,SAAS,CAAEJ,Y,yIAGLO,EAAMpB,GAAS,IAAD,EACgBN,KAAKkB,MAAxCE,EADmB,EACnBA,aAAcC,EADK,EACLA,iBACFK,EAAKC,mBAAmBrB,IAGxCe,IACAO,MAAM,qBAENA,MAAM,2CAAD,OAA4CF,EAAK5B,cAAjD,OAEPsB,IAEApB,KAAKuB,SAAS,CACZH,eACAC,uB,+BAIM,IAAD,EAC2BrB,KAAKkB,MAA/BC,EADD,EACCA,QAASC,EADV,EACUA,aAGjB,OAAuB,IAAnBD,EAAQU,OACH7B,KAAK8B,gBAIVX,EAAQU,OAAS,GAAKT,EAAeD,EAAQU,OACxC7B,KAAK+B,cAIVZ,EAAQU,OAAS,GAAKT,GAAgBD,EAAQU,OACzC7B,KAAKgC,oBADd,I,sCAMA,OACE,6BACE,oEACA,6CACA,6BACA,kBAAC,IAAD,CAAMC,GAAG,KAAT,iD,oCAKS,IAAD,SACsBjC,KAAKkB,MAA/BE,EADI,EACJA,aAEFM,EAHM,EACUP,QAEDC,GACfc,EAAUR,EAAKS,iBAAiBzB,KAAI,SAACJ,EAAQ8B,GACjD,OACE,wBAAIC,IAAKD,GACP,kBAAC,EAAD,CACEpD,eAAgB,WAAQ,EAAKsD,aAAaZ,EAAMpB,KAE/CA,OAMT,OACE,6BACE,oEACA,6BACE,2BAAIoB,EAAK7B,UACT,wBAAIZ,UAAU,YAAYiD,IAE5B,6BACA,kBAAC,IAAD,CAAMD,GAAG,KAAT,iD,qCAKU,IAAD,SACyBjC,KAAKkB,MAAnCC,EADK,EACLA,QAASE,EADJ,EACIA,iBAEjB,OACE,6BACE,oEACA,6BACE,uBAAGkB,GAAG,UAAN,UAAmBlB,EAAnB,YAAuCF,EAAQU,OAA/C,eACA,kBAAC,EAAD,CACE7C,eAAgB,WAAO,EAAKsC,YAD9B,YAMF,6BACA,kBAAC,IAAD,CAAMW,GAAG,KAAT,mD,GAtHWO,IAAMC,Y,MCcVC,MAXf,WACE,OACE,yBAAKzD,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0D,KAAK,IAAIC,OAAK,EAACC,UAAWzD,IACjC,kBAAC,IAAD,CAAOuD,KAAK,QAAQC,OAAK,EAACC,UAAWjD,OCV7CkD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d11843b6.chunk.js","sourcesContent":["import React from 'react';\nimport './Button.css';\n\nconst Button = (props) => {\n  let { onClickHandler } = props;\n\n  // onClickHandlerに関数以外の値がセットされていたら、\n  // ボタンクリック時にエラーを出さないために何も中身のない\n  // 関数を実行する\n  if (typeof onClickHandler !== 'function') {\n    onClickHandler = () => {};\n  }\n\n  return (\n    <div\n      className=\"Button\"\n      onClick={onClickHandler}\n    >\n        {props.children}\n    </div>\n  );\n};\n\nexport default Button;","import React from 'react';\nimport Button from '../Button/Button';\n\nconst Home = ({history}) => {\n  return (\n    <div>\n      <h1>ホーム</h1>\n      <Button\n        onClickHandler={() => {\n          history.push('/quiz');\n        }}\n      >\n        クイズページへ移動\n      </Button>\n    </div>\n  );\n};\n\nexport default Home;","import axios from 'axios';\n\nconst API_URL = 'https://opentdb.com/api.php?amount=10&type=multiple';\n\nclass QuizFetcher {\n  static async fetch() {\n    const response = await axios.get(API_URL);\n    return response.data;\n  }\n}\n\nexport default QuizFetcher;","import _ from 'lodash';\nimport he from 'he';\nimport QuizFetcher from '../data_fetchers/QuizFetcher';\n\nclass Quiz {\n  constructor({ question, correctAnswer, incorrectAnswers }) {\n    this._question = question;\n    this._correctAnswer = correctAnswer;\n    this._incorrectAnswers = [...incorrectAnswers];\n  }\n\n  get question() {\n    return this._question;\n  }\n\n  get correctAnswer() {\n    return this._correctAnswer;\n  }\n\n  shuffleAnswers() {\n    return _.shuffle([\n      this._correctAnswer,\n      ...this._incorrectAnswers\n    ]);\n  }\n\n  judgeCorrectAnswer(answer) {\n    return answer === this._correctAnswer;\n  }\n\n  static async fetchAndCreateQuizzes() {\n    const quizDataList = await QuizFetcher.fetch();\n\n    return quizDataList.results.map(result => {\n      return {\n        question: he.decode(result.question),\n        correctAnswer: he.decode(result.correct_answer),\n        incorrectAnswers: result.incorrect_answers.map(str => he.decode(str))\n      };\n    })\n    .map(quizData => {\n      return new Quiz(quizData);\n    })\n  }\n}\n\nexport default Quiz;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport QuizModel from '../../models/Quiz';\nimport Button from '../Button/Button';\nimport './Quiz.css';\n\nclass Quiz extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      quizzes: [],\n      currentIndex : 0,\n      numberOfCorrects : 0\n    };\n  }\n\n  async componentDidMount() {\n    await this.restart();\n  }\n\n  async restart() {\n    this.setState({\n      quizzes: [],\n      currentIndex : 0,\n      numberOfCorrects : 0\n    });\n\n    const quizzes = await QuizModel.fetchAndCreateQuizzes();\n\n    this.setState({ quizzes });\n  }\n\n  selectAnswer(quiz, answer) {\n    let { currentIndex, numberOfCorrects } = this.state;\n    const isCorrect = quiz.judgeCorrectAnswer(answer);\n\n    if (isCorrect) {\n      numberOfCorrects++;\n      alert('Correct answer!!');\n    } else {\n      alert(`Wrong answer... (The correct answer is \"${quiz.correctAnswer}\")`);\n    }\n    currentIndex++;\n\n    this.setState({\n      currentIndex,\n      numberOfCorrects\n    });\n  }\n\n  render() {\n    const { quizzes, currentIndex } = this.state;\n\n    // \b読込中\n    if (quizzes.length === 0) {\n      return this.renderLoading();\n    }\n\n    // クイズ中\n    if (quizzes.length > 0 && currentIndex < quizzes.length) {\n      return this.reunderQuiz();\n    }\n\n    // クイズ結果\n    if (quizzes.length > 0 && currentIndex >= quizzes.length) {\n      return this.renderResult();\n    }\n  }\n\n  renderLoading() {\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <p>Now loading...</p>\n        <hr/>\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  reunderQuiz() {\n    const { currentIndex, quizzes } = this.state;\n\n    const quiz = quizzes[currentIndex];\n    const answers = quiz.shuffleAnswers().map((answer, index) => {\n      return (\n        <li key={index}>\n          <Button\n            onClickHandler={() => { this.selectAnswer(quiz, answer) }}\n          >\n            {answer}\n          </Button>\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p>{quiz.question}</p>\n          <ul className=\"QuizList\">{answers}</ul>\n        </div>\n        <hr/>\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderResult() {\n    const { quizzes, numberOfCorrects } = this.state;\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p id=\"result\">{`${numberOfCorrects}/${quizzes.length} corrects.`}</p>\n          <Button\n            onClickHandler={() => {this.restart()}}\n          >\n            Restart\n          </Button>\n        </div>\n        <hr/>\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n}\n\nexport default Quiz;","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route\n} from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport Quiz from './components/Quiz/Quiz';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/quiz\" exact component={Quiz} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}